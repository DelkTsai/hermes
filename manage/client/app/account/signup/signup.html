<section class="signup">
  <h1>注册</h1>
  <div class="signup_box">
    <form class="form" name="form" ng-submit="register(form)" novalidate>

      <div class="form_group" ng-class="{ 'has_success': form.name.$valid && submitted,
                                          'has_error': form.name.$invalid && submitted }">
        <lx-text-field label="昵称">
          <input type="text" name="name" ng-model="user.name" required>
        </lx-text-field>
        <p class="help_block" ng-show="form.name.$error.required && submitted">
          请输入昵称
        </p>
      </div>

      <div class="form_group" ng-class="{ 'has_success': form.email.$valid && submitted,
                                          'has_error': form.email.$invalid && submitted }">
        <lx-text-field label="邮箱">
          <input type="email" name="email" ng-model="user.email" required mongoose-error>
        </lx-text-field>
        <p class="help_block" ng-show="form.email.$error.email && submitted">
          请输入格式正确的邮箱
        </p>
        <p class="help_block" ng-show="form.email.$error.required && submitted">
          请输入邮箱
        </p>
        <p class="help_block" ng-show="form.email.$error.mongoose">
          {{ errors.email }}
        </p>
      </div>

      <div class="form_group" ng-class="{ 'has_success': form.password.$valid && submitted,
                                          'has_error': form.password.$invalid && submitted }">
        <lx-text-field label="密码">
          <input type="password" name="password" ng-model="user.password"
            required
            ng-minlength="3"
            mongoose-error >
        </lx-text-field>

        <p class="help_block"
           ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">
          密码长度不得小于3
        </p>
        <p class="help_block" ng-show="form.password.$error.mongoose">
          {{ errors.password }}
        </p>
      </div>

      <div class="signup_operation">
        <button class="btn btn--m btn--blue btn--raised" type="submit" lx-ripple>注册</button>
        <a class="btn btn--m btn--blue btn--flat" ng-href="#/login">
          登录
        </a>
      </div>

    </form>
  </div>
</div>
